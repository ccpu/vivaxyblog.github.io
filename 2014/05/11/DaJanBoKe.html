<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link type="text/css" rel="stylesheet" href="/main/reset.css" />
<link type="text/css" rel="stylesheet" href="/main/main.css" />
<link type="text/css" rel="stylesheet" href="/menubutton/menuBtn.css" />
<link rel="shortcut icon" href="/main/x.png">
<script type="text/javascript" src="/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="/syntaxhighlighter/scripts/shBrushPlain.js"></script>
<link type="text/css" rel="stylesheet" href="/syntaxhighlighter/styles/shCore.css"/>
<title>搭建博客</title>
</head>
<body>
<div class="body">
	<div class="main">
		<script type="text/javascript">SyntaxHighlighter.all();</script>
<div class="title">
	<h1>搭建博客</h1>
	<span class="date">11 May 2014</span>
</div>
<div class="content">
	<p><strong>工具</strong></p>

<ul>
  <li>
    <p><a href="https://github.com/">Github</a> </p>
  </li>
  <li>
    <p><a href="https://windows.github.com/">GitHub Windows</a></p>
  </li>
  <li>
    <p><a href="http://jekyllrb.com/">Jekyll</a></p>
  </li>
  <li>
    <p><a href="http://my.dot.tk/cgi-bin/login01.taloha">.tk域名</a></p>
  </li>
  <li>
    <p><a href="https://www.dnspod.cn">DNSPod</a></p>
  </li>
  <li>
    <p><a href="https://www.zybuluo.com/mdeditor">Markdown编辑器</a></p>
  </li>
</ul>

<p><br /></p>

<p><strong>发布Github页面</strong></p>

<p><a href="https://github.com/">Github</a>上注册用户，假设用户名为<code>username</code>。或者用户创建organization，记组织名为<code>username</code>。</p>

<p>用户或者组织发布页面有两种方式：</p>

<ul>
  <li>
    <p>创建新的repository，名称为<code>username</code>.github.io，把页面放入master分支中，页面地址为：<code>username</code>.github.io。</p>
  </li>
  <li>
    <p>创建新的repository，假设名称为<code>repo</code>，在该repository下新建gh-pages分支，把页面放入其中，页面地址为<code>username</code>.github.io/<code>repo</code>。</p>
  </li>
</ul>

<p>使用<a href="https://windows.github.com/">GitHub Windows</a>，clone repository。
资源管理器中找到repository文件目录，新建index.html，写入文字后保存。
在GitHub Windows中commit，sync，几分钟后，便能通过github地址访问页面了。</p>

<p><br /></p>

<p><strong>申请域名</strong></p>

<p>在<a href="http://www.dot.tk/">www.dot.tk</a>上申请免费域名，不支持126,163邮箱，支持qq邮箱。免费域名申请一次最长可以使用12个月。</p>

<p><br /></p>

<p><strong>配置DNS</strong></p>

<p>在<a href="https://www.dnspod.cn/Domain">dnspod</a>添加刚才申请的域名，删除所有能删的记录。</p>

<p>添加两条记录：主机记录分别为www和@，记录类型都为CNAME，记录值都为github页面地址，保存。</p>

<p>在www.dot.tk设置使用Custom DNS，添加两条dns，Host Name为dnspod中两条NS类型记录的记录值。</p>

<p>在github项目根目录下添加文件，文件名为CNAME，内容为你的域名。</p>

<p><span class="rem">域名可以带和不带www.，如果在CNAME中配置的是带有www.的域名，那么在dnspod中也要配置带有www.的域名。</span></p>

<p>一段时间后，dns才能生效。dns和github页面都生效后，访问申请的域名，便能显示github中的页面了。</p>

<p><br /></p>

<p><strong>Windows上搭建Jekyll本地环境</strong></p>

<p>下载<a href="https://www.dropbox.com/sh/40l6mgbl1ce2kej/lF6ykQxt9d">Jekyll</a>，解压到某个目录下，其中包括Jekyll的各种依赖，详见<a href="http://www.madhur.co.in/blog/2013/07/20/buildportablejekyll.html">Building portable Jekyll for Windows</a>。执行setpath.cmd，设置环境变量无效，只好手动添加。在系统的环境变量中按照setpath.cmd中所述，逐个添加。在任意目录下shift+鼠标右键，选择在此处打开命令窗口，执行jekyll，如果正常显示帮助信息，那么Jekyll本地环境搭建好了。</p>

<p><br /></p>

<p><strong>写博客</strong></p>

<p>在本地按照<a href="https://github.com/ruanyf/jekyll_demo">例子</a>中的样子添加文件。</p>

<p>参数说明参见<a href="http://jekyllrb.com/docs/structure/2013/07/20/buildportablejekyll.html">Jekyll docs</a>。</p>

<p>保存后，在项目根目录下执行jekyll serve，按照刚才配置的host和port就可以在本地访问博客了。</p>

<p>观测无误后，就能上传发布到github上了。</p>

<p><span class="rem">本地Jekyll会编译出_site目录，这个不需要上传github，添加到.gitignore中即可。</span></p>

<p><br /></p>

<p><strong>参考资料</strong></p>

<p><a href="https://help.github.com/categories/20/articles">GitHub Help</a></p>

<p><a href="http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html">Running Jekyll on Windows</a></p>

<p><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">搭建一个免费的，无限流量的Blog—-github Pages和Jekyll入门</a></p>


</div>
<!-- 多说 start -->
<div class="ds-thread" data-title="搭建博客" data-url=""></div>
<script type="text/javascript" charset="utf-8" src="/duoshuo/duoshuo.js"></script>
<!-- 多说  end  -->
	</div>
	<div class="widget">
		<script type="text/javascript" src="http://jf.revolvermaps.com/2/4.js?i=5blqpgw0lyn&amp;m=0&amp;h=128&amp;c=ff0000&amp;r=0" async="async"></script>
	</div>
	<hr class="hr">
	<p class="footer">© Copyright 2014 by vivaxy - Powered by Jekyll</p>
</div>
<div>
	<div id="menuBtnTop" class="menuBtn">↑</div>
	<div id="menuBtnBack" class="menuBtn">←</div>
	<div id="menuBtn" class="menuBtn">＋</div>
</div>
</body>
<script type="text/javascript" charset="utf-8" src="/analysis/ga.js"></script>
<script type="text/javascript" charset="utf-8" src="/analysis/ba.js"></script>
<script type="text/javascript" charset="utf-8" src="/menubutton/menuBtn.js"></script>
</html>