<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="shortcut icon" href="/css/vivaxy.icon.png">
    <link type="text/css" rel="stylesheet" href="/css/reset.css">
    <link type="text/css" rel="stylesheet" href="/css/main.css">
    <link type="text/css" rel="stylesheet" href="/css/syntax.css">
    <link rel="alternate" type="application/atom+xml" title="vivaxy blog" href="/atom.xml"/>
    <title>用 eslint 管理 js 的代码风格</title>
</head>
<body>
<div class="container">
    <a href="/" class="card hover-left">
    <div class="content">
        <h1>用 eslint 管理 js 的代码风格</h1>
        <div class="date">2015-12-29</div>
    </div>
    <div class="icon-arrow-left"></div>
</a>
<div class="card">
    <div class="content">
        <h2 id="eslint">使用全局 eslint</h2>

<p>安装全局 eslint <code>&gt; npm i -g eslint</code> 。</p>

<p>在项目根目录下放置文件 <a href="https://github.com/vivaxy/front-end-scaffold/blob/master/.eslintrc.json"><code>eslintrc.json</code></a> 。</p>

<p>导航到项目根目录，在控制台中输入 <code>eslint &lt;js 文件路径&gt;</code> ，可以看到输出的问题，如果为空，那么就没有问题。</p>

<p>要检查项目下所有 js 文件，可以输入 <code>eslint .</code> 。</p>

<h2 id="eslint-1">配置项目下的 eslint</h2>

<p>在项目下执行 <code>&gt; npm i --save-dev eslint</code> ， <code>package.json</code> 中配置 <code>scripts.lint: "eslint ."</code> 。</p>

<p>在控制台中执行 <code>npm run lint</code> ，依然可以执行 eslint 。</p>

<h2 id="eslint-">配置 eslint 不检查的文件</h2>

<p>在项目下创建 <code>.eslintignore</code> ，将不需要检查的文件路径添加进去。</p>

<p>不需要检查的文件包括： 依赖包，编译后的文件等。</p>

<h2 id="git-commit--eslint">配置 <code>git commit</code> 前执行 eslint</h2>

<p>在项目下安装 husky ， <code>&gt; npm i --save-dev husky</code> 。</p>

<p>配置 <code>package.json</code> ，添加 <code>scripts.precommit: "eslint ."</code> 。</p>

<h2 id="eslint-2">对代码禁用 eslint</h2>

<ul>
  <li>
    <p>对于文件，配置在 <code>.eslintignore</code> 文件中</p>
  </li>
  <li>
    <p>对于代码块，使用 <code>/* eslint-disable */</code> 和 <code>/* eslint-enable */</code></p>
  </li>
  <li>
    <p>对于代码行，使用 <code>/* eslint-disable-line rule1, rule2 */</code></p>
  </li>
</ul>

<h2 id="section">参考文档</h2>

<ul>
  <li><a href="http://eslint.org/">ESLint - Pluggable JavaScript linter</a></li>
  <li><a href="https://www.npmjs.com/package/husky">husky</a></li>
</ul>

    </div>
</div>
<div class="card">
    <!-- 多说 start -->
    <div class="ds-thread" data-title="用 eslint 管理 js 的代码风格" data-url=""></div>
    <script type="text/javascript" charset="utf-8" src="/js/duoshuo/duoshuo.js"></script>
    <!-- 多说  end  -->
</div>

    <a href="javascript:document.body.scrollIntoView(true)" class="card hover-top">
        <div class="content">
            <div class="date">© Copyright 2011 ~ 2016 by vivaxy</div>
        </div>
    </a>
</div>
</body>
<script type="text/javascript" src="/js/analysis/ba.js"></script>
</html>
