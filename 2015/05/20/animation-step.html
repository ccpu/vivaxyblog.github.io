<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link rel="shortcut icon" href="/css/vivaxy.icon.png">
    <link type="text/css" rel="stylesheet" href="/css/reset.css">
    <link type="text/css" rel="stylesheet" href="/css/main.css">
    <link type="text/css" rel="stylesheet" href="/css/syntax.css">
    <link rel="alternate" type="application/atom+xml" title="vivaxy blog" href="/atom.xml"/>
    <title>用animation的step属性实现帧动画</title>
</head>
<body>
<div class="container">
    <a href="/" class="card hover-left">
    <div class="content">
        <h1>用animation的step属性实现帧动画</h1>
        <div class="date">2015-05-20</div>
    </div>
    <div class="icon-arrow-left"></div>
</a>
<div class="card">
    <div class="content">
        <p>准备一张长图，包含动画内的所有帧。如下图：</p>

<p><img src="http://vivaxy.github.io/course/native-api/animation-steps/sprite.png" alt="sprite" /></p>

<p>其中共有13帧。</p>

<p>通过背景图的方式显示，改变背景图的<code>background-position</code>实现动画。代码如下：</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.figure</span> <span class="p">{</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">160px</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">170px</span><span class="p">;</span>
    <span class="k">margin</span><span class="o">:</span> <span class="m">100px</span> <span class="k">auto</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="sx">url(sprite.png)</span> <span class="k">no-repeat</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.figure</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="n">animation</span><span class="o">:</span> <span class="n">fly</span> <span class="m">1s</span> <span class="n">steps</span><span class="p">(</span><span class="m">12</span><span class="p">)</span> <span class="k">both</span><span class="p">;</span>
    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">animation</span><span class="o">:</span> <span class="n">fly</span> <span class="m">1s</span> <span class="n">steps</span><span class="p">(</span><span class="m">12</span><span class="p">)</span> <span class="k">both</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@keyframes</span> <span class="nt">fly</span> <span class="p">{</span>
    <span class="nt">0</span><span class="o">%</span> <span class="p">{</span>
        <span class="k">background-position</span><span class="o">:</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
        <span class="k">background-position</span><span class="o">:</span> <span class="m">-1920px</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>为了保持初始和结束时的元素有背景，实际动画的帧数为12。</p>

<p>手机端点击人物可以看到动画，电脑端鼠标悬浮在人物上会看到动画，点击空白处可以重置。</p>

<p>See example <a href="http://vivaxy.github.io/course/native-api/animation-steps/">here</a>.</p>

    </div>
</div>
<div class="card">
    <!-- 多说 start -->
    <div class="ds-thread" data-thread-key="/2015/05/20/animation-step" data-title="用animation的step属性实现帧动画" data-url="/2015/05/20/animation-step.html"></div>
    <script type="text/javascript" charset="utf-8" src="/js/duoshuo/duoshuo.js"></script>
    <!-- 多说  end  -->
</div>

    <a href="javascript:document.body.scrollIntoView(true)" class="card hover-top">
        <div class="content">
            <div class="date">© Copyright 2011 ~ 2016 by vivaxy</div>
        </div>
    </a>
</div>
</body>
<script type="text/javascript" src="/js/analysis/ba.js"></script>
</html>
